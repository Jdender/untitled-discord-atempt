# Migration `20200521181445-inital-commit`

This migration has been generated by Jdender~ at 5/21/2020, 6:14:45 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
"avatar" text  NOT NULL ,"discriminator" text  NOT NULL ,"email" text  NOT NULL ,"id" text  NOT NULL ,"refreshToken" text  NOT NULL ,"username" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."ServerEntry" (
"features" text []  ,"icon" text  NOT NULL ,"id" text  NOT NULL ,"name" text  NOT NULL ,"ownerId" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."ServerEntry" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

DROP TABLE "public"."Todo";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200515113759..20200521181445-inital-commit
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,27 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator prisma_client {
   provider = "prisma-client-js"
 }
-model Todo {
-  id          String @default(cuid()) @id
-  description String
+model User {
+  id            String        @id
+  servers       ServerEntry[]
+  username      String
+  discriminator String
+  email         String
+  avatar        String
+  refreshToken  String
 }
+
+model ServerEntry {
+  id       String   @id
+  owner    User     @relation(fields: [ownerId], references: [id])
+  ownerId  String
+  name     String
+  icon     String
+  features String[]
+}
```


